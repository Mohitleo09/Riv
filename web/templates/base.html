<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{% block title %}Trading Bot{% endblock %} ‚Äî Binance Futures Testnet</title>
  <meta name="description" content="Binance Futures Testnet trading dashboard ‚Äî place MARKET, LIMIT, and STOP orders." />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
</head>
<body>

<div class="layout">

  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="sidebar-logo">
      <div class="logo-icon">‚Çø</div>
      <div>
        <span>TradingBot<br/><small>Futures Testnet</small></span>
      </div>
    </div>

    <p class="nav-label">Navigation</p>

    <a href="{{ url_for('dashboard') }}"
       class="nav-item {% if request.endpoint == 'dashboard' %}active{% endif %}">
      <span class="icon">üìä</span> Dashboard
    </a>

    <a href="{{ url_for('order_form') }}"
       class="nav-item {% if request.endpoint in ('order_form','submit_order') %}active{% endif %}">
      <span class="icon">üìù</span> Place Order
    </a>

    <div class="sidebar-footer">
      <div>USDT-M Perpetuals</div>
      <span class="testnet-badge">Testnet</span>
    </div>
  </aside>

  <!-- Main -->
  <div class="main">

    <!-- Topbar -->
    <header class="topbar">
      <span class="topbar-title">{% block topbar_title %}Dashboard{% endblock %}</span>
      <div class="topbar-right">
        <span id="live-clock"></span>
        <a href="{{ url_for('order_form') }}" class="btn btn-primary btn-sm">+ New Order</a>
      </div>
    </header>

    <!-- Flash messages -->
    <div style="padding: 0 1.75rem; margin-top: 1rem;">
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          <ul class="flash-list">
            {% for category, message in messages %}
              <li class="flash-msg flash-{{ category }}">
                {% if category == 'error' %}‚ö†{% else %}‚úì{% endif %}
                {{ message }}
              </li>
            {% endfor %}
          </ul>
        {% endif %}
      {% endwith %}
    </div>

    <!-- Page content -->
    <main class="page-body">
      {% block content %}{% endblock %}
    </main>

  </div>
</div>

<script>
  // Live clock
  function updateClock() {
    const el = document.getElementById('live-clock');
    if (el) el.textContent = new Date().toLocaleString('en-GB', { hour12: false });
  }
  updateClock();
  setInterval(updateClock, 1000);
</script>

{% block scripts %}{% endblock %}
</body>
</html>
